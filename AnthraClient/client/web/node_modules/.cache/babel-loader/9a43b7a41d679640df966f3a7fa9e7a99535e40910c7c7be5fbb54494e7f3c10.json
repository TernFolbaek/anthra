{"ast":null,"code":"var _jsxFileName = \"/Users/tyf/Documents/software-programming/personal-coding-projects/Anthra/AnthraClient/client/web/src/CreateProfile/CreateProfile.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport './CreateProfile.css';\nimport cbsCourses from './cbs/cbsCourses.json';\nimport dtuCourses from './dtu/dtuCourses.json';\nimport lawCourses from './ku/lawCourses.json';\nimport humanitiesCourses from './ku/humanitiesCourses.json';\nimport sciencesCourses from './ku/sciencesCourses.json';\nimport socialSciencesCourses from './ku/socialSciencesCourses.json';\nimport healthAndMedicalCourses from './ku/healthAndMedicalCourses.json';\nimport theologyCourses from './ku/theologyCourses.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateProfile = ({\n  onProfileCreated\n}) => {\n  _s();\n  // Step management\n  const [step, setStep] = useState(1);\n\n  // Form fields\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [location, setLocation] = useState('');\n  const [work, setWork] = useState('');\n  const [courses, setCourses] = useState([]);\n  const [courseInput, setCourseInput] = useState('');\n  const [courseLinkInput, setCourseLinkInput] = useState(''); // New state for manual course link\n  const [courseSuggestions, setCourseSuggestions] = useState([]);\n  const [subjects, setSubjects] = useState([]);\n  const [aboutMe, setAboutMe] = useState('');\n  const [age, setAge] = useState('');\n  const [profilePictureUrl, setProfilePictureUrl] = useState('');\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(null);\n  const [institution, setInstitution] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const [isFacultyDropdownOpen, setIsFacultyDropdownOpen] = useState(false);\n  const [profilePictureFile, setProfilePictureFile] = useState(null); // New state for profile picture\n\n  const [faculty, setFaculty] = useState(\"\");\n  const institutions = [\"CBS\", \"DTU\", \"KU\"];\n  const faculties = ['Health & Medical', 'Humanities', 'Sciences', 'Theology', 'Social Sciences', 'Law'];\n  const token = localStorage.getItem('token');\n  const cbsCoursesArray = cbsCourses;\n  const dtuCoursesArray = dtuCourses;\n  const lawCoursesArray = lawCourses;\n  const humanitiesCoursesArray = humanitiesCourses;\n  const sciencesCoursesArray = sciencesCourses;\n  const socialSciencesCoursesArray = socialSciencesCourses;\n  const theologyCoursesArray = theologyCourses;\n  const healthAndMedicalCoursesArray = healthAndMedicalCourses;\n  const handleDropdownClick = () => {\n    setIsOpen(!isOpen);\n  };\n  const handleOptionClick = selectedInstitution => {\n    if (selectedInstitution !== institution) {\n      setCourses([]); // Clear courses\n      setFaculty(''); // Reset faculty\n    }\n    setInstitution(selectedInstitution);\n    setIsOpen(false);\n  };\n  const handleFacultyDropdownClick = () => {\n    setIsFacultyDropdownOpen(!isFacultyDropdownOpen);\n  };\n  const handleFacultyOptionClick = selectedFaculty => {\n    if (selectedFaculty !== faculty) {\n      setCourses([]); // Clear courses\n    }\n    setFaculty(selectedFaculty);\n    setIsFacultyDropdownOpen(false);\n  };\n\n  // File input ref for profile picture upload\n  const fileInputRef = useRef(null);\n\n  // Handle form submission\n  const handleSubmit = async () => {\n    const formData = new FormData();\n    formData.append('FirstName', firstName);\n    formData.append('LastName', lastName);\n    formData.append('Location', location);\n    formData.append('Institution', institution);\n    formData.append('Work', work);\n    formData.append('AboutMe', aboutMe);\n    formData.append('Age', age === '' ? '' : age.toString());\n    formData.append('Courses', JSON.stringify(courses));\n    subjects.forEach(subject => formData.append('Subjects', subject));\n    if (profilePictureFile) {\n      formData.append('ProfilePicture', profilePictureFile); // Append the profile picture from state\n    } else {\n      setError('Profile picture is required.');\n      return;\n    }\n    try {\n      await axios.post('http://localhost:5001/api/Profile/UpdateProfile', formData, {\n        withCredentials: true,\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      onProfileCreated();\n    } catch (err) {\n      if (err.response && err.response.data) {\n        const errorData = err.response.data;\n        setError(errorData.Message || Object.values(errorData.errors || {}).join(' ') || 'An error occurred');\n      } else {\n        setError('An error occurred. Please try again.');\n      }\n      setMessage(null);\n    }\n  };\n\n  // Handle next button click\n  const handleNext = () => {\n    if (step === 1) {\n      var _fileInputRef$current, _fileInputRef$current2;\n      // Basic validation for step 1 fields\n      if (!firstName || !lastName || !age || !location || !((_fileInputRef$current = fileInputRef.current) !== null && _fileInputRef$current !== void 0 && (_fileInputRef$current2 = _fileInputRef$current.files) !== null && _fileInputRef$current2 !== void 0 && _fileInputRef$current2[0])) {\n        setError('Please fill in all required fields.');\n        return;\n      }\n      setError(null);\n      setStep(2);\n    } else {\n      handleSubmit();\n    }\n  };\n\n  // Handle back button click\n  const handleBack = () => {\n    if (step > 1) {\n      setStep(step - 1);\n    }\n  };\n\n  // Calculate progress percentage\n  const progressPercentage = step / 2 * 100;\n\n  // Handle course input change\n  const handleCourseInputChange = e => {\n    const value = e.target.value;\n    setCourseInput(value);\n    if (value.trim() === '') {\n      setCourseSuggestions([]);\n      return;\n    }\n    let suggestions = [];\n    if (institution === 'CBS') {\n      suggestions = cbsCoursesArray.filter(course => course.courseName.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n      setCourseSuggestions(suggestions);\n    } else if (institution === 'DTU') {\n      suggestions = dtuCoursesArray.filter(course => course.courseName.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n      setCourseSuggestions(suggestions);\n    } else if (institution === 'KU') {\n      if (faculty === 'Health & Medical') {\n        suggestions = healthAndMedicalCoursesArray.filter(course => course.courseName.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n        setCourseSuggestions(suggestions);\n      } else if (faculty === \"Law\") {\n        suggestions = lawCoursesArray.filter(course => course.courseName.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n        setCourseSuggestions(suggestions);\n      } else if (faculty === \"Sciences\") {\n        suggestions = sciencesCoursesArray.filter(course => course.courseName.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n        setCourseSuggestions(suggestions);\n      } else if (faculty === \"Theology\") {\n        suggestions = theologyCoursesArray.filter(course => course.courseName.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n        setCourseSuggestions(suggestions);\n      } else if (faculty === \"Social Sciences\") {\n        suggestions = socialSciencesCoursesArray.filter(course => course.courseName.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n        setCourseSuggestions(suggestions);\n      } else if (faculty === \"Humanities\") {\n        suggestions = humanitiesCoursesArray.filter(course => course.courseName.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n        setCourseSuggestions(suggestions);\n      }\n    } else {\n      suggestions = [];\n    }\n    setCourseSuggestions(suggestions);\n  };\n  const handleCourseSelect = course => {\n    if (!courses.some(c => c.courseName === course.courseName)) {\n      setCourses([...courses, course]);\n    }\n    setCourseInput('');\n    setCourseSuggestions([]);\n  };\n  const handleAddCourse = () => {\n    if (courseInput && !courses.some(c => c.courseName === courseInput)) {\n      const newCourse = {\n        courseName: courseInput,\n        courseLink: courseLinkInput || ''\n      };\n      setCourses([...courses, newCourse]);\n      setCourseInput('');\n      setCourseLinkInput('');\n      setCourseSuggestions([]);\n    }\n  };\n\n  // Handle removing a course\n  const handleRemoveCourse = courseName => {\n    setCourses(courses.filter(c => c.courseName !== courseName));\n  };\n\n  // Handle profile picture preview (optional)\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const handleFileChange = e => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      setProfilePictureFile(file); // Save the selected file in state\n      setPreviewUrl(URL.createObjectURL(file)); // Optionally update preview URL\n    }\n  };\n  const getCourseLinkPrefix = () => {\n    switch (institution) {\n      case 'KU':\n        return 'https://kurser.ku.dk';\n      case 'CBS':\n        return 'https://kursuskatalog.cbs.dk/';\n      case 'DTU':\n        return 'https://kurser.dtu.dk';\n      default:\n        return '';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-profile-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progress-bar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar-fill\",\n        style: {\n          width: `${progressPercentage}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-profile-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Your Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"success-message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 29\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 27\n      }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"First Name\",\n          required: true,\n          value: firstName,\n          onChange: e => setFirstName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Last Name\",\n          required: true,\n          value: lastName,\n          onChange: e => setLastName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Age\",\n          required: true,\n          value: age === '' ? '' : age,\n          onChange: e => setAge(e.target.value === '' ? '' : parseInt(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Location\",\n          required: true,\n          value: location,\n          onChange: e => setLocation(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          required: true,\n          ref: fileInputRef,\n          onChange: handleFileChange,\n          className: \"choose-pfp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 25\n        }, this), previewUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: previewUrl,\n          alt: \"Preview\",\n          className: \"image-preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 21\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"About Me\",\n          value: aboutMe,\n          onChange: e => setAboutMe(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"custom-dropdown flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"create-profile-dropdown-header mr-5\",\n              onClick: handleDropdownClick,\n              children: [institution ? institution : \"Select Institution\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"dropdown-arrow\",\n                children: \"\\u25BC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 33\n            }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-menu\",\n              children: institutions.map(inst => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dropdown-item\",\n                onClick: () => handleOptionClick(inst),\n                children: inst\n              }, inst, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 45\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 29\n          }, this), institution === 'KU' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"custom-dropdown flex items-center gap-x-2\",\n            children: [\"Faculty:\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"create-profile-dropdown-header\",\n              onClick: handleFacultyDropdownClick,\n              children: [faculty ? faculty : \"Select Faculty\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"dropdown-arrow\",\n                children: \"\\u25BC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 37\n            }, this), isFacultyDropdownOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-menu\",\n              children: faculties.map(faculty => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dropdown-item\",\n                onClick: () => handleFacultyOptionClick(faculty),\n                children: faculty\n              }, faculty, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 49\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Add Course\",\n            value: courseInput,\n            onChange: handleCourseInputChange,\n            className: \"course-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleAddCourse,\n            className: \"course-add-button\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 29\n          }, this), courseSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"suggestions-list\",\n            children: courseSuggestions.map((course, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"suggestion-item\",\n              onClick: () => handleCourseSelect(course),\n              children: course.courseName\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 33\n          }, this), courseInput && courseSuggestions.length === 0 && institution && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Course Link (optional)\",\n              value: courseLinkInput,\n              onChange: e => setCourseLinkInput(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 25\n        }, this), courses.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-courses\",\n          children: courses.map((course, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"course-tag\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: course.courseLink.startsWith('http') ? course.courseLink : `${getCourseLinkPrefix()}${course.courseLink}`,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: course.courseName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => handleRemoveCourse(course.courseName),\n              children: \"x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 37\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Subjects (comma-separated)\",\n          value: subjects.join(', '),\n          onChange: e => setSubjects(e.target.value.split(',').map(s => s.trim()))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Work\",\n          value: work,\n          onChange: e => setWork(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-container\",\n        children: [step > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"back-button\",\n          onClick: handleBack,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"next-button\",\n          onClick: handleNext,\n          children: step === 2 ? 'Submit' : 'Next'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 9\n  }, this);\n};\n_s(CreateProfile, \"WRWvLgYmPyE0xjf/lE0oiu7lgt4=\");\n_c = CreateProfile;\nexport default CreateProfile;\nvar _c;\n$RefreshReg$(_c, \"CreateProfile\");","map":{"version":3,"names":["React","useState","useRef","axios","cbsCourses","dtuCourses","lawCourses","humanitiesCourses","sciencesCourses","socialSciencesCourses","healthAndMedicalCourses","theologyCourses","jsxDEV","_jsxDEV","CreateProfile","onProfileCreated","_s","step","setStep","firstName","setFirstName","lastName","setLastName","location","setLocation","work","setWork","courses","setCourses","courseInput","setCourseInput","courseLinkInput","setCourseLinkInput","courseSuggestions","setCourseSuggestions","subjects","setSubjects","aboutMe","setAboutMe","age","setAge","profilePictureUrl","setProfilePictureUrl","message","setMessage","error","setError","institution","setInstitution","isOpen","setIsOpen","isFacultyDropdownOpen","setIsFacultyDropdownOpen","profilePictureFile","setProfilePictureFile","faculty","setFaculty","institutions","faculties","token","localStorage","getItem","cbsCoursesArray","dtuCoursesArray","lawCoursesArray","humanitiesCoursesArray","sciencesCoursesArray","socialSciencesCoursesArray","theologyCoursesArray","healthAndMedicalCoursesArray","handleDropdownClick","handleOptionClick","selectedInstitution","handleFacultyDropdownClick","handleFacultyOptionClick","selectedFaculty","fileInputRef","handleSubmit","formData","FormData","append","toString","JSON","stringify","forEach","subject","post","withCredentials","headers","err","response","data","errorData","Message","Object","values","errors","join","handleNext","_fileInputRef$current","_fileInputRef$current2","current","files","handleBack","progressPercentage","handleCourseInputChange","e","value","target","trim","suggestions","filter","course","courseName","toLowerCase","includes","slice","handleCourseSelect","some","c","handleAddCourse","newCourse","courseLink","handleRemoveCourse","previewUrl","setPreviewUrl","handleFileChange","file","URL","createObjectURL","getCourseLinkPrefix","className","children","style","width","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","required","onChange","parseInt","accept","ref","src","alt","onClick","map","inst","length","index","href","startsWith","rel","split","s","_c","$RefreshReg$"],"sources":["/Users/tyf/Documents/software-programming/personal-coding-projects/Anthra/AnthraClient/client/web/src/CreateProfile/CreateProfile.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport './CreateProfile.css';\nimport cbsCourses from './cbs/cbsCourses.json';\nimport dtuCourses from './dtu/dtuCourses.json';\nimport lawCourses from './ku/lawCourses.json';\nimport humanitiesCourses from './ku/humanitiesCourses.json';\nimport sciencesCourses from './ku/sciencesCourses.json';\nimport socialSciencesCourses from './ku/socialSciencesCourses.json';\nimport healthAndMedicalCourses from './ku/healthAndMedicalCourses.json';\nimport theologyCourses from './ku/theologyCourses.json';\n\n\ninterface CreateProfileProps {\n    onProfileCreated: () => void;\n}\n\ninterface Course {\n    courseName: string;\n    courseLink: string;\n}\n\n\nconst CreateProfile: React.FC<CreateProfileProps> = ({ onProfileCreated }) => {\n    // Step management\n    const [step, setStep] = useState(1);\n\n    // Form fields\n    const [firstName, setFirstName] = useState('');\n    const [lastName, setLastName] = useState('');\n    const [location, setLocation] = useState('');\n    const [work, setWork] = useState('');\n    const [courses, setCourses] = useState<Course[]>([]);\n    const [courseInput, setCourseInput] = useState('');\n    const [courseLinkInput, setCourseLinkInput] = useState(''); // New state for manual course link\n    const [courseSuggestions, setCourseSuggestions] = useState<Course[]>([]);\n    const [subjects, setSubjects] = useState<string[]>([]);\n    const [aboutMe, setAboutMe] = useState('');\n    const [age, setAge] = useState<number | ''>('');\n    const [profilePictureUrl, setProfilePictureUrl] = useState('');\n    const [message, setMessage] = useState<string | null>(null);\n    const [error, setError] = useState<string | null>(null);\n    const [institution, setInstitution] = useState<string>(\"\");\n    const [isOpen, setIsOpen] = useState<boolean>(false);\n    const [isFacultyDropdownOpen, setIsFacultyDropdownOpen] = useState<boolean>(false);\n    const [profilePictureFile, setProfilePictureFile] = useState<File | null>(null); // New state for profile picture\n\n    const [faculty, setFaculty] = useState<string>(\"\");\n    const institutions: string[] = [\"CBS\", \"DTU\", \"KU\"];\n    const faculties: string[] = ['Health & Medical','Humanities','Sciences','Theology','Social Sciences', 'Law'];\n\n    const token = localStorage.getItem('token');\n    const cbsCoursesArray: Course[] = cbsCourses as Course[];\n    const dtuCoursesArray: Course[] = dtuCourses as Course[];\n    const lawCoursesArray: Course[] = lawCourses as Course[];\n    const humanitiesCoursesArray: Course[] = humanitiesCourses as Course[];\n    const sciencesCoursesArray: Course[] = sciencesCourses as Course[];\n    const socialSciencesCoursesArray: Course[] = socialSciencesCourses as Course[];\n    const theologyCoursesArray: Course[] = theologyCourses as Course[];\n    const healthAndMedicalCoursesArray: Course[] = healthAndMedicalCourses as Course[];\n\n    const handleDropdownClick = () => {\n        setIsOpen(!isOpen);\n    };\n\n    const handleOptionClick = (selectedInstitution: string) => {\n        if (selectedInstitution !== institution) {\n            setCourses([]); // Clear courses\n            setFaculty(''); // Reset faculty\n        }\n        setInstitution(selectedInstitution);\n        setIsOpen(false);\n    };\n\n    const handleFacultyDropdownClick = () => {\n        setIsFacultyDropdownOpen(!isFacultyDropdownOpen);\n    }\n\n    const handleFacultyOptionClick = (selectedFaculty: string) => {\n        if (selectedFaculty !== faculty) {\n            setCourses([]); // Clear courses\n        }\n        setFaculty(selectedFaculty);\n        setIsFacultyDropdownOpen(false);\n    };\n\n    // File input ref for profile picture upload\n    const fileInputRef = useRef<HTMLInputElement>(null);\n\n\n    // Handle form submission\n    const handleSubmit = async () => {\n        const formData = new FormData();\n        formData.append('FirstName', firstName);\n        formData.append('LastName', lastName);\n        formData.append('Location', location);\n        formData.append('Institution', institution);\n        formData.append('Work', work);\n        formData.append('AboutMe', aboutMe);\n        formData.append('Age', age === '' ? '' : age.toString());\n        formData.append('Courses', JSON.stringify(courses));\n        subjects.forEach((subject) => formData.append('Subjects', subject));\n\n        if (profilePictureFile) {\n            formData.append('ProfilePicture', profilePictureFile); // Append the profile picture from state\n        } else {\n            setError('Profile picture is required.');\n            return;\n        }\n\n        try {\n            await axios.post('http://localhost:5001/api/Profile/UpdateProfile', formData, {\n                withCredentials: true,\n                headers: { 'Content-Type': 'multipart/form-data',\n                    'Authorization': `Bearer ${token}`,\n                },\n            });\n            onProfileCreated();\n        } catch (err: any) {\n            if (err.response && err.response.data) {\n                const errorData = err.response.data;\n                setError(\n                    errorData.Message ||\n                    Object.values(errorData.errors || {}).join(' ') ||\n                    'An error occurred'\n                );\n            } else {\n                setError('An error occurred. Please try again.');\n            }\n            setMessage(null);\n        }\n    };\n\n    // Handle next button click\n    const handleNext = () => {\n        if (step === 1) {\n            // Basic validation for step 1 fields\n            if (\n                !firstName ||\n                !lastName ||\n                !age ||\n                !location ||\n                !fileInputRef.current?.files?.[0]\n            ) {\n                setError('Please fill in all required fields.');\n                return;\n            }\n            setError(null);\n            setStep(2);\n        } else {\n            handleSubmit();\n        }\n    };\n\n    // Handle back button click\n    const handleBack = () => {\n        if (step > 1) {\n            setStep(step - 1);\n        }\n    };\n\n    // Calculate progress percentage\n    const progressPercentage = (step / 2) * 100;\n\n    // Handle course input change\n    const handleCourseInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const value = e.target.value;\n        setCourseInput(value);\n\n        if (value.trim() === '') {\n            setCourseSuggestions([]);\n            return;\n        }\n        let suggestions: Course[] = [];\n\n\n        if (institution === 'CBS') {\n            suggestions = cbsCoursesArray\n                .filter((course) =>\n                    course.courseName.toLowerCase().includes(value.toLowerCase())\n                )\n                .slice(0, 5); // Get top 5 suggestions\n            setCourseSuggestions(suggestions);\n        } else if(institution === 'DTU') {\n            suggestions = dtuCoursesArray\n                .filter((course) =>\n                    course.courseName.toLowerCase().includes(value.toLowerCase())\n                )\n                .slice(0, 5); // Get top 5 suggestions\n            setCourseSuggestions(suggestions);\n        } else if(institution === 'KU'){\n            if(faculty === 'Health & Medical'){\n                suggestions = healthAndMedicalCoursesArray\n                    .filter((course) =>\n                        course.courseName.toLowerCase().includes(value.toLowerCase())\n                    )\n                    .slice(0, 5); // Get top 5 suggestions\n                setCourseSuggestions(suggestions);\n            }else if(faculty === \"Law\"){\n                suggestions = lawCoursesArray\n                    .filter((course) =>\n                        course.courseName.toLowerCase().includes(value.toLowerCase())\n                    )\n                    .slice(0, 5); // Get top 5 suggestions\n                setCourseSuggestions(suggestions);\n            }else if(faculty === \"Sciences\"){\n                suggestions = sciencesCoursesArray\n                    .filter((course) =>\n                        course.courseName.toLowerCase().includes(value.toLowerCase())\n                    )\n                    .slice(0, 5); // Get top 5 suggestions\n                setCourseSuggestions(suggestions);\n            }else if(faculty === \"Theology\"){\n                suggestions = theologyCoursesArray\n                    .filter((course) =>\n                        course.courseName.toLowerCase().includes(value.toLowerCase())\n                    )\n                    .slice(0, 5); // Get top 5 suggestions\n                setCourseSuggestions(suggestions);\n            }else if(faculty === \"Social Sciences\"){\n                suggestions = socialSciencesCoursesArray\n                    .filter((course) =>\n                        course.courseName.toLowerCase().includes(value.toLowerCase())\n                    )\n                    .slice(0, 5); // Get top 5 suggestions\n                setCourseSuggestions(suggestions);\n            }else if(faculty === \"Humanities\"){\n                suggestions = humanitiesCoursesArray\n                    .filter((course) =>\n                        course.courseName.toLowerCase().includes(value.toLowerCase())\n                    )\n                    .slice(0, 5); // Get top 5 suggestions\n                setCourseSuggestions(suggestions);\n            }\n        }else{\n            suggestions = []\n        }\n        setCourseSuggestions(suggestions);\n\n    };\n\n\n    const handleCourseSelect = (course: Course) => {\n        if (!courses.some((c) => c.courseName === course.courseName)) {\n            setCourses([...courses, course]);\n        }\n        setCourseInput('');\n        setCourseSuggestions([]);\n    };\n\n    const handleAddCourse = () => {\n        if (courseInput && !courses.some((c) => c.courseName === courseInput)) {\n            const newCourse: Course = {\n                courseName: courseInput,\n                courseLink: courseLinkInput || '',\n            };\n            setCourses([...courses, newCourse]);\n            setCourseInput('');\n            setCourseLinkInput('');\n            setCourseSuggestions([]);\n        }\n    };\n\n\n\n    // Handle removing a course\n    const handleRemoveCourse = (courseName: string) => {\n        setCourses(courses.filter((c) => c.courseName !== courseName));\n    };\n\n    // Handle profile picture preview (optional)\n    const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n\n    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        if (e.target.files && e.target.files[0]) {\n            const file = e.target.files[0];\n            setProfilePictureFile(file); // Save the selected file in state\n            setPreviewUrl(URL.createObjectURL(file)); // Optionally update preview URL\n        }\n    };\n\n    const getCourseLinkPrefix = () => {\n        switch (institution) {\n            case 'KU':\n                return 'https://kurser.ku.dk';\n            case 'CBS':\n                return 'https://kursuskatalog.cbs.dk/';\n            case 'DTU':\n                return 'https://kurser.dtu.dk';\n            default:\n                return '';\n        }\n    };\n\n\n    return (\n        <div className=\"create-profile-page\">\n            <div className=\"progress-bar\">\n                <div\n                    className=\"progress-bar-fill\"\n                    style={{ width: `${progressPercentage}%` }}\n                ></div>\n            </div>\n            <div className=\"create-profile-container\">\n                <h2>Create Your Profile</h2>\n\n                {message && <p className=\"success-message\">{message}</p>}\n                {error && <p className=\"error-message\">{error}</p>}\n\n                {step === 1 && (\n                    <div className=\"form-step\">\n                        <input\n                            type=\"text\"\n                            placeholder=\"First Name\"\n                            required\n                            value={firstName}\n                            onChange={(e) => setFirstName(e.target.value)}\n                        />\n                        <input\n                            type=\"text\"\n                            placeholder=\"Last Name\"\n                            required\n                            value={lastName}\n                            onChange={(e) => setLastName(e.target.value)}\n                        />\n                        <input\n                            type=\"number\"\n                            placeholder=\"Age\"\n                            required\n                            value={age === '' ? '' : age}\n                            onChange={(e) =>\n                                setAge(e.target.value === '' ? '' : parseInt(e.target.value))\n                            }\n                        />\n                        <input\n                            type=\"text\"\n                            placeholder=\"Location\"\n                            required\n                            value={location}\n                            onChange={(e) => setLocation(e.target.value)}\n                        />\n                        <input\n                            type=\"file\"\n                            accept=\"image/*\"\n                            required\n                            ref={fileInputRef}\n                            onChange={handleFileChange}\n                            className=\"choose-pfp\"\n                        />\n                        {previewUrl && (\n                            <img src={previewUrl} alt=\"Preview\" className=\"image-preview\" />\n                        )}\n                    </div>\n                )}\n\n                {step === 2 && (\n                    <div className=\"form-step\">\n                        <textarea\n                            placeholder=\"About Me\"\n                            value={aboutMe}\n                            onChange={(e) => setAboutMe(e.target.value)}\n                        />\n\n                        <div className=\"flex\">\n                            <div className=\"custom-dropdown flex items-center\">\n                                <div className=\"create-profile-dropdown-header mr-5\" onClick={handleDropdownClick}>\n                                    {institution ? institution : \"Select Institution\"}\n                                    <span className=\"dropdown-arrow\">▼</span>\n                                </div>\n                                {isOpen && (\n                                    <div className=\"dropdown-menu\">\n                                        {institutions.map((inst) => (\n                                            <div\n                                                key={inst}\n                                                className=\"dropdown-item\"\n                                                onClick={() => handleOptionClick(inst)}\n                                            >\n                                                {inst}\n                                            </div>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n                            {institution === 'KU' && (\n                                <div className=\"custom-dropdown flex items-center gap-x-2\">\n                                    Faculty:\n                                    <div className=\"create-profile-dropdown-header\" onClick={handleFacultyDropdownClick}>\n                                        {faculty ? faculty : \"Select Faculty\"}\n                                        <span className=\"dropdown-arrow\">▼</span>\n                                    </div>\n                                    {isFacultyDropdownOpen && (\n                                        <div className=\"dropdown-menu\">\n                                            {faculties.map((faculty) => (\n                                                <div\n                                                    key={faculty}\n                                                    className=\"dropdown-item\"\n                                                    onClick={() => handleFacultyOptionClick(faculty)}\n                                                >\n                                                    {faculty}\n                                                </div>\n                                            ))}\n                                        </div>\n                                    )}\n                                </div>\n                            )}\n                        </div>\n\n                        {/*Course input */}\n                        <div className=\"course-input-container\">\n                            <input\n                                type=\"text\"\n                                placeholder=\"Add Course\"\n                                value={courseInput}\n                                onChange={handleCourseInputChange}\n                                className=\"course-input\"\n                            />\n                            <button type=\"button\" onClick={handleAddCourse} className=\"course-add-button\">\n                                Add\n                            </button>\n                            {courseSuggestions.length > 0 && (\n                                <ul className=\"suggestions-list\">\n                                    {courseSuggestions.map((course, index) => (\n                                        <li\n                                            className=\"suggestion-item\"\n                                            key={index}\n                                            onClick={() => handleCourseSelect(course)}\n                                        >\n                                            {course.courseName}\n                                        </li>\n                                    ))}\n                                </ul>\n                            )}\n                            {courseInput && courseSuggestions.length === 0 && institution && (\n                                <div>\n                                    <input\n                                        type=\"text\"\n                                        placeholder=\"Course Link (optional)\"\n                                        value={courseLinkInput}\n                                        onChange={(e) => setCourseLinkInput(e.target.value)}\n                                    />\n                                </div>\n                            )}\n\n\n                        </div>\n\n                        {/* Display selected courses */}\n                        {courses.length > 0 && (\n                            <div className=\"selected-courses\">\n                                {courses.map((course, index) => (\n                                    <span key={index} className=\"course-tag\">\n                                    <a\n                                        href={\n                                            course.courseLink.startsWith('http')\n                                                ? course.courseLink\n                                                : `${getCourseLinkPrefix()}${course.courseLink}`\n                                        }\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                    >\n                                      {course.courseName}\n                                    </a>\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => handleRemoveCourse(course.courseName)}\n                                    >\n                                      x\n                                    </button>\n                                  </span>\n                                ))}\n                            </div>\n                        )}\n\n                        {/* Subjects input */}\n                        <input\n                            type=\"text\"\n                            placeholder=\"Subjects (comma-separated)\"\n                            value={subjects.join(', ')}\n                            onChange={(e) =>\n                                setSubjects(e.target.value.split(',').map((s) => s.trim()))\n                            }\n                        />\n                        <input\n                            type=\"text\"\n                            placeholder=\"Work\"\n                            value={work}\n                            onChange={(e) => setWork(e.target.value)}\n                        />\n                    </div>\n                )}\n\n                <div className=\"button-container\">\n                    {step > 1 && (\n                        <button type=\"button\" className=\"back-button\" onClick={handleBack}>\n                            Back\n                        </button>\n                    )}\n                    <button type=\"button\" className=\"next-button\" onClick={handleNext}>\n                        {step === 2 ? 'Submit' : 'Next'}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CreateProfile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}