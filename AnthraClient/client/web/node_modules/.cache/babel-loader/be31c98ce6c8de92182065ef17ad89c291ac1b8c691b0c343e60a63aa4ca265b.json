{"ast":null,"code":"var _jsxFileName = \"/Users/tyf/Documents/software-programming/personal-coding-projects/Anthra/AnthraClient/client/web/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Home from './LandingPage/components/Home/Home';\nimport HowItWorks from './LandingPage/components/HowItWorks/HowItWorks';\nimport Features from \"./LandingPage/components/Features/Features\";\nimport FAQ from \"./LandingPage/components/FAQ/FAQ\";\nimport Contact from \"./LandingPage/components/Contact/Contact\";\nimport AuthPage from \"./Authentication/AuthPage\";\nimport CreateProfile from './CreateProfile/CreateProfile';\nimport './App.css';\nimport Navbar from './LandingPage/components/Navbar/Navbar';\nimport Main from './Dashboard/Main'; // Placeholder for your main app after logins\nimport { LanguageProvider } from './LanguageContext';\nimport axios from \"axios\"; // Import the LanguageProvider\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [showAuthPage, setShowAuthPage] = useState(false);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [profileCreated, setProfileCreated] = useState(false);\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const userId = localStorage.getItem('userId');\n    if (token && userId) {\n      // Optionally, verify token expiration here\n      // Fetch the user's profile\n      axios.get('http://localhost:5001/api/Profile/GetProfile', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }).then(response => {\n        const userProfile = response.data;\n        setIsAuthenticated(true);\n        setProfileCreated(userProfile.createdProfile);\n      }).catch(error => {\n        // Handle error, possibly invalid token\n        localStorage.removeItem('token');\n        localStorage.removeItem('userId');\n        setIsAuthenticated(false);\n      });\n    }\n  }, []);\n  const handleGetStartedClick = () => {\n    setShowAuthPage(true);\n  };\n  const handleBackClick = () => {\n    setShowAuthPage(false);\n  };\n  const handleAuthSuccess = userProfileCreated => {\n    setIsAuthenticated(true);\n    setProfileCreated(userProfileCreated);\n  };\n  const handleProfileCreated = () => {\n    setProfileCreated(true);\n  };\n  return /*#__PURE__*/_jsxDEV(LanguageProvider, {\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: isAuthenticated ? profileCreated ?\n      /*#__PURE__*/\n      // User is authenticated and profile is created\n      _jsxDEV(Main, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }, this) :\n      /*#__PURE__*/\n      // User is authenticated but profile is not created\n      _jsxDEV(CreateProfile, {\n        onProfileCreated: handleProfileCreated\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }, this) : showAuthPage ? /*#__PURE__*/_jsxDEV(AuthPage, {\n        onBackClick: handleBackClick,\n        onAuthSuccess: handleAuthSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Navbar, {\n          onGetStartedClick: handleGetStartedClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"home\",\n          children: /*#__PURE__*/_jsxDEV(Home, {\n            onGetStartedClick: handleGetStartedClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"features\",\n          children: /*#__PURE__*/_jsxDEV(Features, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"how-it-works\",\n          children: /*#__PURE__*/_jsxDEV(HowItWorks, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"faq\",\n          children: /*#__PURE__*/_jsxDEV(FAQ, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"contact\",\n          children: /*#__PURE__*/_jsxDEV(Contact, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"dJO1tLy9ZGGv8l4gbzKaBmOq6+g=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Home","HowItWorks","Features","FAQ","Contact","AuthPage","CreateProfile","Navbar","Main","LanguageProvider","axios","jsxDEV","_jsxDEV","App","_s","showAuthPage","setShowAuthPage","isAuthenticated","setIsAuthenticated","profileCreated","setProfileCreated","token","localStorage","getItem","userId","get","headers","then","response","userProfile","data","createdProfile","catch","error","removeItem","handleGetStartedClick","handleBackClick","handleAuthSuccess","userProfileCreated","handleProfileCreated","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onProfileCreated","onBackClick","onAuthSuccess","onGetStartedClick","id","_c","$RefreshReg$"],"sources":["/Users/tyf/Documents/software-programming/personal-coding-projects/Anthra/AnthraClient/client/web/src/App.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport Home from './LandingPage/components/Home/Home';\nimport HowItWorks from './LandingPage/components/HowItWorks/HowItWorks';\nimport Features from \"./LandingPage/components/Features/Features\";\nimport FAQ from \"./LandingPage/components/FAQ/FAQ\";\nimport Contact from \"./LandingPage/components/Contact/Contact\";\nimport AuthPage from \"./Authentication/AuthPage\";\nimport CreateProfile from './CreateProfile/CreateProfile';\nimport './App.css';\nimport Navbar from './LandingPage/components/Navbar/Navbar';\nimport Main from './Dashboard/Main'; // Placeholder for your main app after logins\nimport { LanguageProvider } from './LanguageContext';\nimport axios from \"axios\"; // Import the LanguageProvider\n\nconst App = () => {\n    const [showAuthPage, setShowAuthPage] = useState(false);\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n    const [profileCreated, setProfileCreated] = useState(false);\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        const userId = localStorage.getItem('userId');\n\n        if (token && userId) {\n            // Optionally, verify token expiration here\n            // Fetch the user's profile\n            axios.get('http://localhost:5001/api/Profile/GetProfile', {\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }\n            })\n                .then(response => {\n                    const userProfile = response.data;\n                    setIsAuthenticated(true);\n                    setProfileCreated(userProfile.createdProfile);\n                })\n                .catch(error => {\n                    // Handle error, possibly invalid token\n                    localStorage.removeItem('token');\n                    localStorage.removeItem('userId');\n                    setIsAuthenticated(false);\n                });\n        }\n    }, []);\n\n    const handleGetStartedClick = () => {\n        setShowAuthPage(true);\n    };\n\n    const handleBackClick = () => {\n        setShowAuthPage(false);\n    };\n\n    const handleAuthSuccess = (userProfileCreated: boolean) => {\n        setIsAuthenticated(true);\n        setProfileCreated(userProfileCreated);\n    };\n\n    const handleProfileCreated = () => {\n        setProfileCreated(true);\n    };\n\n    return (\n        <LanguageProvider> {/* Wrap the app in LanguageProvider */}\n            <div className=\"App\">\n                {isAuthenticated ? (\n                    profileCreated ? (\n                        // User is authenticated and profile is created\n                        <Main />\n                    ) : (\n                        // User is authenticated but profile is not created\n                        <CreateProfile onProfileCreated={handleProfileCreated} />\n                    )\n                ) : (\n                    showAuthPage ? (\n                        <AuthPage onBackClick={handleBackClick} onAuthSuccess={handleAuthSuccess} />\n                    ) : (\n                        <div>\n                            <Navbar onGetStartedClick={handleGetStartedClick} />\n                            <div id=\"home\">\n                                <Home onGetStartedClick={handleGetStartedClick}  />\n                            </div>\n                            <div id=\"features\">\n                                <Features />\n                            </div>\n                            <div id=\"how-it-works\">\n                                <HowItWorks />\n                            </div>\n                            <div id=\"faq\">\n                                <FAQ />\n                            </div>\n                            <div id=\"contact\">\n                                <Contact />\n                            </div>\n                        </div>\n                    )\n                )}\n            </div>\n        </LanguageProvider>\n    );\n};\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,OAAOC,IAAI,MAAM,oCAAoC;AACrD,OAAOC,UAAU,MAAM,gDAAgD;AACvE,OAAOC,QAAQ,MAAM,4CAA4C;AACjE,OAAOC,GAAG,MAAM,kCAAkC;AAClD,OAAOC,OAAO,MAAM,0CAA0C;AAC9D,OAAOC,QAAQ,MAAM,2BAA2B;AAChD,OAAOC,aAAa,MAAM,+BAA+B;AACzD,OAAO,WAAW;AAClB,OAAOC,MAAM,MAAM,wCAAwC;AAC3D,OAAOC,IAAI,MAAM,kBAAkB,CAAC,CAAC;AACrC,SAASC,gBAAgB,QAAQ,mBAAmB;AACpD,OAAOC,KAAK,MAAM,OAAO,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE3B,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACd,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACkB,eAAe,EAAEC,kBAAkB,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACoB,cAAc,EAAEC,iBAAiB,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EAE3DD,SAAS,CAAC,MAAM;IACZ,MAAMuB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMC,MAAM,GAAGF,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAE7C,IAAIF,KAAK,IAAIG,MAAM,EAAE;MACjB;MACA;MACAd,KAAK,CAACe,GAAG,CAAC,8CAA8C,EAAE;QACtDC,OAAO,EAAE;UACL,eAAe,EAAE,UAAUL,KAAK;QACpC;MACJ,CAAC,CAAC,CACGM,IAAI,CAACC,QAAQ,IAAI;QACd,MAAMC,WAAW,GAAGD,QAAQ,CAACE,IAAI;QACjCZ,kBAAkB,CAAC,IAAI,CAAC;QACxBE,iBAAiB,CAACS,WAAW,CAACE,cAAc,CAAC;MACjD,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACZ;QACAX,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC;QAChCZ,YAAY,CAACY,UAAU,CAAC,QAAQ,CAAC;QACjChB,kBAAkB,CAAC,KAAK,CAAC;MAC7B,CAAC,CAAC;IACV;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMiB,qBAAqB,GAAGA,CAAA,KAAM;IAChCnB,eAAe,CAAC,IAAI,CAAC;EACzB,CAAC;EAED,MAAMoB,eAAe,GAAGA,CAAA,KAAM;IAC1BpB,eAAe,CAAC,KAAK,CAAC;EAC1B,CAAC;EAED,MAAMqB,iBAAiB,GAAIC,kBAA2B,IAAK;IACvDpB,kBAAkB,CAAC,IAAI,CAAC;IACxBE,iBAAiB,CAACkB,kBAAkB,CAAC;EACzC,CAAC;EAED,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;IAC/BnB,iBAAiB,CAAC,IAAI,CAAC;EAC3B,CAAC;EAED,oBACIR,OAAA,CAACH,gBAAgB;IAAA+B,QAAA,GAAC,GAAC,eACf5B,OAAA;MAAK6B,SAAS,EAAC,KAAK;MAAAD,QAAA,EACfvB,eAAe,GACZE,cAAc;MAAA;MACV;MACAP,OAAA,CAACJ,IAAI;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;MAAA;MAER;MACAjC,OAAA,CAACN,aAAa;QAACwC,gBAAgB,EAAEP;MAAqB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAC3D,GAED9B,YAAY,gBACRH,OAAA,CAACP,QAAQ;QAAC0C,WAAW,EAAEX,eAAgB;QAACY,aAAa,EAAEX;MAAkB;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,gBAE5EjC,OAAA;QAAA4B,QAAA,gBACI5B,OAAA,CAACL,MAAM;UAAC0C,iBAAiB,EAAEd;QAAsB;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACpDjC,OAAA;UAAKsC,EAAE,EAAC,MAAM;UAAAV,QAAA,eACV5B,OAAA,CAACZ,IAAI;YAACiD,iBAAiB,EAAEd;UAAsB;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC,eACNjC,OAAA;UAAKsC,EAAE,EAAC,UAAU;UAAAV,QAAA,eACd5B,OAAA,CAACV,QAAQ;YAAAwC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACX,CAAC,eACNjC,OAAA;UAAKsC,EAAE,EAAC,cAAc;UAAAV,QAAA,eAClB5B,OAAA,CAACX,UAAU;YAAAyC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CAAC,eACNjC,OAAA;UAAKsC,EAAE,EAAC,KAAK;UAAAV,QAAA,eACT5B,OAAA,CAACT,GAAG;YAAAuC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACNjC,OAAA;UAAKsC,EAAE,EAAC,SAAS;UAAAV,QAAA,eACb5B,OAAA,CAACR,OAAO;YAAAsC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAEZ;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAE3B,CAAC;AAAC/B,EAAA,CAtFID,GAAG;AAAAsC,EAAA,GAAHtC,GAAG;AAwFT,eAAeA,GAAG;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}