{"ast":null,"code":"var _jsxFileName = \"/Users/tyf/Documents/software-programming/personal-coding-projects/Anthra/AnthraClient/client/web/src/CreateProfile/CreateProfile.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport './CreateProfile.css';\nimport cbsCourses from './cbs/cbsCourses.json';\nimport dtuCourses from './dtu/dtuCourses.json';\nimport lawCourses from './ku/lawCourses.json';\nimport humanitiesCourses from './ku/humanitiesCourses.json';\nimport sciencesCourses from './ku/sciencesCourses.json';\nimport socialSciencesCourses from './ku/socialSciencesCourses.json';\nimport healthAndMedicalCourses from './ku/healthAndMedicalCourses.json';\nimport theologyCourses from './ku/theologyCourses.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateProfile = ({\n  onProfileCreated\n}) => {\n  _s();\n  // Step management\n  const [step, setStep] = useState(1);\n\n  // Form fields\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [location, setLocation] = useState('');\n  const [work, setWork] = useState('');\n  const [courses, setCourses] = useState([]);\n  const [courseInput, setCourseInput] = useState('');\n  const [courseSuggestions, setCourseSuggestions] = useState([]);\n  const [subjects, setSubjects] = useState([]);\n  const [aboutMe, setAboutMe] = useState('');\n  const [age, setAge] = useState('');\n  const [profilePictureUrl, setProfilePictureUrl] = useState('');\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(null);\n  const [institution, setInstitution] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const [isFacultyDropdownOpen, setIsFacultyDropdownOpen] = useState(false);\n  const [profilePictureFile, setProfilePictureFile] = useState(null); // New state for profile picture\n\n  const [faculty, setFaculty] = useState(\"\");\n  const institutions = [\"CBS\", \"DTU\", \"KU\"];\n  const faculties = ['Health & Medical', 'Humanities', 'Sciences', 'Theology', 'Social Sciences', 'Law'];\n  const token = localStorage.getItem('token');\n  const handleDropdownClick = () => {\n    setIsOpen(!isOpen);\n  };\n  const handleOptionClick = institution => {\n    setInstitution(institution);\n    setIsOpen(false);\n  };\n  const handleFacultyDropdownClick = () => {\n    setIsFacultyDropdownOpen(!isFacultyDropdownOpen);\n  };\n  const handleFacultyOptionClick = selectedFaculty => {\n    setFaculty(selectedFaculty);\n    setIsFacultyDropdownOpen(false);\n  };\n\n  // File input ref for profile picture upload\n  const fileInputRef = useRef(null);\n\n  // Handle form submission\n  const handleSubmit = async () => {\n    const formData = new FormData();\n    formData.append('FirstName', firstName);\n    formData.append('LastName', lastName);\n    formData.append('Location', location);\n    formData.append('Institution', institution);\n    formData.append('Work', work);\n    formData.append('AboutMe', aboutMe);\n    formData.append('Age', age === '' ? '' : age.toString());\n    formData.append('Courses', JSON.stringify(courses));\n    subjects.forEach(subject => formData.append('Subjects', subject));\n    if (profilePictureFile) {\n      formData.append('ProfilePicture', profilePictureFile); // Append the profile picture from state\n    } else {\n      setError('Profile picture is required.');\n      return;\n    }\n    try {\n      await axios.post('http://localhost:5001/api/Profile/UpdateProfile', formData, {\n        withCredentials: true,\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      onProfileCreated();\n    } catch (err) {\n      if (err.response && err.response.data) {\n        const errorData = err.response.data;\n        setError(errorData.Message || Object.values(errorData.errors || {}).join(' ') || 'An error occurred');\n      } else {\n        setError('An error occurred. Please try again.');\n      }\n      setMessage(null);\n    }\n  };\n\n  // Handle next button click\n  const handleNext = () => {\n    if (step === 1) {\n      var _fileInputRef$current, _fileInputRef$current2;\n      // Basic validation for step 1 fields\n      if (!firstName || !lastName || !age || !location || !((_fileInputRef$current = fileInputRef.current) !== null && _fileInputRef$current !== void 0 && (_fileInputRef$current2 = _fileInputRef$current.files) !== null && _fileInputRef$current2 !== void 0 && _fileInputRef$current2[0])) {\n        setError('Please fill in all required fields.');\n        return;\n      }\n      setError(null);\n      setStep(2);\n    } else {\n      handleSubmit();\n    }\n  };\n\n  // Handle back button click\n  const handleBack = () => {\n    if (step > 1) {\n      setStep(step - 1);\n    }\n  };\n\n  // Calculate progress percentage\n  const progressPercentage = step / 2 * 100;\n\n  // Handle course input change\n  const handleCourseInputChange = e => {\n    const value = e.target.value;\n    setCourseInput(value);\n    if (institution === 'CBS') {\n      const suggestions = cbsCourses.filter(course => course.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n      setCourseSuggestions(suggestions);\n    } else if (institution === 'DTU') {\n      const suggestions = dtuCourses.filter(course => course.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n      setCourseSuggestions(suggestions);\n    } else if (institution === 'KU') {\n      if (faculty === 'Health & Medical') {\n        const suggestions = healthAndMedicalCourses.filter(course => course.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n        setCourseSuggestions(suggestions);\n      } else if (faculty === \"Law\") {\n        const suggestions = lawCourses.filter(course => course.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n        setCourseSuggestions(suggestions);\n      } else if (faculty === \"Sciences\") {\n        const suggestions = sciencesCourses.filter(course => course.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n        setCourseSuggestions(suggestions);\n      } else if (faculty === \"Theology\") {\n        const suggestions = theologyCourses.filter(course => course.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n        setCourseSuggestions(suggestions);\n      } else if (faculty === \"Social Sciences\") {\n        const suggestions = socialSciencesCourses.filter(course => course.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n        setCourseSuggestions(suggestions);\n      } else if (faculty === \"Humanities\") {\n        const suggestions = humanitiesCourses.filter(course => course.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Get top 5 suggestions\n        setCourseSuggestions(suggestions);\n      }\n    } else {\n      setCourseSuggestions([]);\n    }\n  };\n\n  // Handle course selection from suggestions\n  const handleCourseSelect = courseName => {\n    if (!courses.includes(courseName)) {\n      setCourses([...courses, courseName]);\n    }\n    setCourseInput('');\n    setCourseSuggestions([]);\n  };\n\n  // Handle adding course manually\n  const handleAddCourse = () => {\n    if (courseInput && !courses.includes(courseInput)) {\n      setCourses([...courses, courseInput]);\n      setCourseInput('');\n      setCourseSuggestions([]);\n    }\n  };\n\n  // Handle removing a course\n  const handleRemoveCourse = courseName => {\n    setCourses(courses.filter(c => c !== courseName));\n  };\n\n  // Handle profile picture preview (optional)\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const handleFileChange = e => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      setProfilePictureFile(file); // Save the selected file in state\n      setPreviewUrl(URL.createObjectURL(file)); // Optionally update preview URL\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-profile-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progress-bar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar-fill\",\n        style: {\n          width: `${progressPercentage}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-profile-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Your Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"success-message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 29\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 27\n      }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"First Name\",\n          required: true,\n          value: firstName,\n          onChange: e => setFirstName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Last Name\",\n          required: true,\n          value: lastName,\n          onChange: e => setLastName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Age\",\n          required: true,\n          value: age === '' ? '' : age,\n          onChange: e => setAge(e.target.value === '' ? '' : parseInt(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Location\",\n          required: true,\n          value: location,\n          onChange: e => setLocation(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          required: true,\n          ref: fileInputRef,\n          onChange: handleFileChange,\n          className: \"choose-pfp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 25\n        }, this), previewUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: previewUrl,\n          alt: \"Preview\",\n          className: \"image-preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 21\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-step\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"About Me\",\n          value: aboutMe,\n          onChange: e => setAboutMe(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"custom-dropdown flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-header mr-5\",\n              onClick: handleDropdownClick,\n              children: [institution ? institution : \"Select Institution\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"dropdown-arrow\",\n                children: \"\\u25BC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 33\n            }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-menu\",\n              children: institutions.map(inst => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dropdown-item\",\n                onClick: () => handleOptionClick(inst),\n                children: inst\n              }, inst, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 45\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 29\n          }, this), institution === 'KU' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"custom-dropdown flex items-center gap-x-2\",\n            children: [\"Faculty:\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-header\",\n              onClick: handleFacultyDropdownClick,\n              children: [faculty ? faculty : \"Select Faculty\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"dropdown-arrow\",\n                children: \"\\u25BC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 37\n            }, this), isFacultyDropdownOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-menu\",\n              children: faculties.map(faculty => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dropdown-item\",\n                onClick: () => handleFacultyOptionClick(faculty),\n                children: faculty\n              }, faculty, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 49\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Add Course\",\n            value: courseInput,\n            onChange: handleCourseInputChange,\n            className: \"course-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleAddCourse,\n            className: \"course-add-button\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 29\n          }, this), courseSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"suggestions-list\",\n            children: courseSuggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"suggestion-item\",\n              onClick: () => handleCourseSelect(suggestion),\n              children: suggestion\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 25\n        }, this), courses.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-courses\",\n          children: courses.map((courseName, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"course-tag\",\n            children: [courseName, /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => handleRemoveCourse(courseName),\n              children: \"x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 41\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Subjects (comma-separated)\",\n          value: subjects.join(', '),\n          onChange: e => setSubjects(e.target.value.split(',').map(s => s.trim()))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Work\",\n          value: work,\n          onChange: e => setWork(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-container\",\n        children: [step > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"back-button\",\n          onClick: handleBack,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"next-button\",\n          onClick: handleNext,\n          children: step === 2 ? 'Submit' : 'Next'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 9\n  }, this);\n};\n_s(CreateProfile, \"AligOa9PAWrChya/fVQ5sYYoJgA=\");\n_c = CreateProfile;\nexport default CreateProfile;\nvar _c;\n$RefreshReg$(_c, \"CreateProfile\");","map":{"version":3,"names":["React","useState","useRef","axios","cbsCourses","dtuCourses","lawCourses","humanitiesCourses","sciencesCourses","socialSciencesCourses","healthAndMedicalCourses","theologyCourses","jsxDEV","_jsxDEV","CreateProfile","onProfileCreated","_s","step","setStep","firstName","setFirstName","lastName","setLastName","location","setLocation","work","setWork","courses","setCourses","courseInput","setCourseInput","courseSuggestions","setCourseSuggestions","subjects","setSubjects","aboutMe","setAboutMe","age","setAge","profilePictureUrl","setProfilePictureUrl","message","setMessage","error","setError","institution","setInstitution","isOpen","setIsOpen","isFacultyDropdownOpen","setIsFacultyDropdownOpen","profilePictureFile","setProfilePictureFile","faculty","setFaculty","institutions","faculties","token","localStorage","getItem","handleDropdownClick","handleOptionClick","handleFacultyDropdownClick","handleFacultyOptionClick","selectedFaculty","fileInputRef","handleSubmit","formData","FormData","append","toString","JSON","stringify","forEach","subject","post","withCredentials","headers","err","response","data","errorData","Message","Object","values","errors","join","handleNext","_fileInputRef$current","_fileInputRef$current2","current","files","handleBack","progressPercentage","handleCourseInputChange","e","value","target","suggestions","filter","course","toLowerCase","includes","slice","handleCourseSelect","courseName","handleAddCourse","handleRemoveCourse","c","previewUrl","setPreviewUrl","handleFileChange","file","URL","createObjectURL","className","children","style","width","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","required","onChange","parseInt","accept","ref","src","alt","onClick","map","inst","length","suggestion","index","split","s","trim","_c","$RefreshReg$"],"sources":["/Users/tyf/Documents/software-programming/personal-coding-projects/Anthra/AnthraClient/client/web/src/CreateProfile/CreateProfile.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport './CreateProfile.css';\nimport cbsCourses from './cbs/cbsCourses.json';\nimport dtuCourses from './dtu/dtuCourses.json';\nimport lawCourses from './ku/lawCourses.json';\nimport humanitiesCourses from './ku/humanitiesCourses.json';\nimport sciencesCourses from './ku/sciencesCourses.json';\nimport socialSciencesCourses from './ku/socialSciencesCourses.json';\nimport healthAndMedicalCourses from './ku/healthAndMedicalCourses.json';\nimport theologyCourses from './ku/theologyCourses.json';\n\n\ninterface CreateProfileProps {\n    onProfileCreated: () => void;\n}\n\nconst CreateProfile: React.FC<CreateProfileProps> = ({ onProfileCreated }) => {\n    // Step management\n    const [step, setStep] = useState(1);\n\n    // Form fields\n    const [firstName, setFirstName] = useState('');\n    const [lastName, setLastName] = useState('');\n    const [location, setLocation] = useState('');\n    const [work, setWork] = useState('');\n    const [courses, setCourses] = useState<string[]>([]);\n    const [courseInput, setCourseInput] = useState('');\n    const [courseSuggestions, setCourseSuggestions] = useState<string[]>([]);\n    const [subjects, setSubjects] = useState<string[]>([]);\n    const [aboutMe, setAboutMe] = useState('');\n    const [age, setAge] = useState<number | ''>('');\n    const [profilePictureUrl, setProfilePictureUrl] = useState('');\n    const [message, setMessage] = useState<string | null>(null);\n    const [error, setError] = useState<string | null>(null);\n    const [institution, setInstitution] = useState<string>(\"\");\n    const [isOpen, setIsOpen] = useState<boolean>(false);\n    const [isFacultyDropdownOpen, setIsFacultyDropdownOpen] = useState<boolean>(false);\n    const [profilePictureFile, setProfilePictureFile] = useState<File | null>(null); // New state for profile picture\n\n    const [faculty, setFaculty] = useState<string>(\"\");\n    const institutions: string[] = [\"CBS\", \"DTU\", \"KU\"];\n    const faculties: string[] = ['Health & Medical','Humanities','Sciences','Theology','Social Sciences', 'Law'];\n\n    const token = localStorage.getItem('token');\n    const handleDropdownClick = () => {\n        setIsOpen(!isOpen);\n    };\n\n    const handleOptionClick = (institution: string) => {\n        setInstitution(institution);\n        setIsOpen(false);\n    };\n\n    const handleFacultyDropdownClick = () => {\n        setIsFacultyDropdownOpen(!isFacultyDropdownOpen);\n    }\n\n    const handleFacultyOptionClick = (selectedFaculty: string) => {\n        setFaculty(selectedFaculty);\n        setIsFacultyDropdownOpen(false);\n    };\n\n    // File input ref for profile picture upload\n    const fileInputRef = useRef<HTMLInputElement>(null);\n\n\n    // Handle form submission\n    const handleSubmit = async () => {\n        const formData = new FormData();\n        formData.append('FirstName', firstName);\n        formData.append('LastName', lastName);\n        formData.append('Location', location);\n        formData.append('Institution', institution);\n        formData.append('Work', work);\n        formData.append('AboutMe', aboutMe);\n        formData.append('Age', age === '' ? '' : age.toString());\n        formData.append('Courses', JSON.stringify(courses));\n        subjects.forEach((subject) => formData.append('Subjects', subject));\n\n        if (profilePictureFile) {\n            formData.append('ProfilePicture', profilePictureFile); // Append the profile picture from state\n        } else {\n            setError('Profile picture is required.');\n            return;\n        }\n\n        try {\n            await axios.post('http://localhost:5001/api/Profile/UpdateProfile', formData, {\n                withCredentials: true,\n                headers: { 'Content-Type': 'multipart/form-data',\n                    'Authorization': `Bearer ${token}`,\n                },\n            });\n            onProfileCreated();\n        } catch (err: any) {\n            if (err.response && err.response.data) {\n                const errorData = err.response.data;\n                setError(\n                    errorData.Message ||\n                    Object.values(errorData.errors || {}).join(' ') ||\n                    'An error occurred'\n                );\n            } else {\n                setError('An error occurred. Please try again.');\n            }\n            setMessage(null);\n        }\n    };\n\n    // Handle next button click\n    const handleNext = () => {\n        if (step === 1) {\n            // Basic validation for step 1 fields\n            if (\n                !firstName ||\n                !lastName ||\n                !age ||\n                !location ||\n                !fileInputRef.current?.files?.[0]\n            ) {\n                setError('Please fill in all required fields.');\n                return;\n            }\n            setError(null);\n            setStep(2);\n        } else {\n            handleSubmit();\n        }\n    };\n\n    // Handle back button click\n    const handleBack = () => {\n        if (step > 1) {\n            setStep(step - 1);\n        }\n    };\n\n    // Calculate progress percentage\n    const progressPercentage = (step / 2) * 100;\n\n    // Handle course input change\n    const handleCourseInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const value = e.target.value;\n        setCourseInput(value);\n\n        if (institution === 'CBS') {\n            const suggestions = cbsCourses\n                .filter((course) =>\n                    course.toLowerCase().includes(value.toLowerCase())\n                )\n                .slice(0, 5); // Get top 5 suggestions\n            setCourseSuggestions(suggestions);\n        } else if(institution === 'DTU') {\n            const suggestions = dtuCourses\n                .filter((course) =>\n                    course.toLowerCase().includes(value.toLowerCase())\n                )\n                .slice(0, 5); // Get top 5 suggestions\n            setCourseSuggestions(suggestions);\n        } else if(institution === 'KU'){\n            if(faculty === 'Health & Medical'){\n                const suggestions = healthAndMedicalCourses\n                    .filter((course) =>\n                        course.toLowerCase().includes(value.toLowerCase())\n                    )\n                    .slice(0, 5); // Get top 5 suggestions\n                setCourseSuggestions(suggestions);\n            }else if(faculty === \"Law\"){\n                const suggestions = lawCourses\n                    .filter((course) =>\n                        course.toLowerCase().includes(value.toLowerCase())\n                    )\n                    .slice(0, 5); // Get top 5 suggestions\n                setCourseSuggestions(suggestions);\n            }else if(faculty === \"Sciences\"){\n                const suggestions = sciencesCourses\n                    .filter((course) =>\n                        course.toLowerCase().includes(value.toLowerCase())\n                    )\n                    .slice(0, 5); // Get top 5 suggestions\n                setCourseSuggestions(suggestions);\n            }else if(faculty === \"Theology\"){\n                const suggestions = theologyCourses\n                    .filter((course) =>\n                        course.toLowerCase().includes(value.toLowerCase())\n                    )\n                    .slice(0, 5); // Get top 5 suggestions\n                setCourseSuggestions(suggestions);\n            }else if(faculty === \"Social Sciences\"){\n                const suggestions = socialSciencesCourses\n                    .filter((course) =>\n                        course.toLowerCase().includes(value.toLowerCase())\n                    )\n                    .slice(0, 5); // Get top 5 suggestions\n                setCourseSuggestions(suggestions);\n            }else if(faculty === \"Humanities\"){\n                const suggestions = humanitiesCourses\n                    .filter((course) =>\n                        course.toLowerCase().includes(value.toLowerCase())\n                    )\n                    .slice(0, 5); // Get top 5 suggestions\n                setCourseSuggestions(suggestions);\n            }\n        }else{\n            setCourseSuggestions([]);\n        }\n\n    };\n\n\n    // Handle course selection from suggestions\n    const handleCourseSelect = (courseName: string) => {\n        if (!courses.includes(courseName)) {\n            setCourses([...courses, courseName]);\n        }\n        setCourseInput('');\n        setCourseSuggestions([]);\n    };\n\n    // Handle adding course manually\n    const handleAddCourse = () => {\n        if (courseInput && !courses.includes(courseInput)) {\n            setCourses([...courses, courseInput]);\n            setCourseInput('');\n            setCourseSuggestions([]);\n        }\n    };\n\n    // Handle removing a course\n    const handleRemoveCourse = (courseName: string) => {\n        setCourses(courses.filter((c) => c !== courseName));\n    };\n\n    // Handle profile picture preview (optional)\n    const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n\n    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        if (e.target.files && e.target.files[0]) {\n            const file = e.target.files[0];\n            setProfilePictureFile(file); // Save the selected file in state\n            setPreviewUrl(URL.createObjectURL(file)); // Optionally update preview URL\n        }\n    };\n\n\n\n    return (\n        <div className=\"create-profile-page\">\n            <div className=\"progress-bar\">\n                <div\n                    className=\"progress-bar-fill\"\n                    style={{ width: `${progressPercentage}%` }}\n                ></div>\n            </div>\n            <div className=\"create-profile-container\">\n                <h2>Create Your Profile</h2>\n\n                {message && <p className=\"success-message\">{message}</p>}\n                {error && <p className=\"error-message\">{error}</p>}\n\n                {step === 1 && (\n                    <div className=\"form-step\">\n                        <input\n                            type=\"text\"\n                            placeholder=\"First Name\"\n                            required\n                            value={firstName}\n                            onChange={(e) => setFirstName(e.target.value)}\n                        />\n                        <input\n                            type=\"text\"\n                            placeholder=\"Last Name\"\n                            required\n                            value={lastName}\n                            onChange={(e) => setLastName(e.target.value)}\n                        />\n                        <input\n                            type=\"number\"\n                            placeholder=\"Age\"\n                            required\n                            value={age === '' ? '' : age}\n                            onChange={(e) =>\n                                setAge(e.target.value === '' ? '' : parseInt(e.target.value))\n                            }\n                        />\n                        <input\n                            type=\"text\"\n                            placeholder=\"Location\"\n                            required\n                            value={location}\n                            onChange={(e) => setLocation(e.target.value)}\n                        />\n                        <input\n                            type=\"file\"\n                            accept=\"image/*\"\n                            required\n                            ref={fileInputRef}\n                            onChange={handleFileChange}\n                            className=\"choose-pfp\"\n                        />\n                        {previewUrl && (\n                            <img src={previewUrl} alt=\"Preview\" className=\"image-preview\" />\n                        )}\n                    </div>\n                )}\n\n                {step === 2 && (\n                    <div className=\"form-step\">\n                        <textarea\n                            placeholder=\"About Me\"\n                            value={aboutMe}\n                            onChange={(e) => setAboutMe(e.target.value)}\n                        />\n\n                        <div className=\"flex\">\n                            <div className=\"custom-dropdown flex items-center\">\n                                <div className=\"dropdown-header mr-5\" onClick={handleDropdownClick}>\n                                    {institution ? institution : \"Select Institution\"}\n                                    <span className=\"dropdown-arrow\">▼</span>\n                                </div>\n                                {isOpen && (\n                                    <div className=\"dropdown-menu\">\n                                        {institutions.map((inst) => (\n                                            <div\n                                                key={inst}\n                                                className=\"dropdown-item\"\n                                                onClick={() => handleOptionClick(inst)}\n                                            >\n                                                {inst}\n                                            </div>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n                            {institution === 'KU' && (\n                                <div className=\"custom-dropdown flex items-center gap-x-2\">\n                                    Faculty:\n                                    <div className=\"dropdown-header\" onClick={handleFacultyDropdownClick}>\n                                        {faculty ? faculty : \"Select Faculty\"}\n                                        <span className=\"dropdown-arrow\">▼</span>\n                                    </div>\n                                    {isFacultyDropdownOpen && (\n                                        <div className=\"dropdown-menu\">\n                                            {faculties.map((faculty) => (\n                                                <div\n                                                    key={faculty}\n                                                    className=\"dropdown-item\"\n                                                    onClick={() => handleFacultyOptionClick(faculty)}\n                                                >\n                                                    {faculty}\n                                                </div>\n                                            ))}\n                                        </div>\n                                    )}\n                                </div>\n                            )}\n                        </div>\n\n                        {/*Course input */}\n                        <div className=\"course-input-container\">\n                            <input\n                                type=\"text\"\n                                placeholder=\"Add Course\"\n                                value={courseInput}\n                                onChange={handleCourseInputChange}\n                                className=\"course-input\"\n                            />\n                            <button type=\"button\" onClick={handleAddCourse} className=\"course-add-button\">\n                                Add\n                            </button>\n                            {courseSuggestions.length > 0 && (\n                                <ul className=\"suggestions-list\">\n                                    {courseSuggestions.map((suggestion, index) => (\n                                        <li\n                                            className=\"suggestion-item\"\n                                            key={index}\n                                            onClick={() => handleCourseSelect(suggestion)}\n                                        >\n                                            {suggestion}\n                                        </li>\n                                    ))}\n                                </ul>\n                            )}\n                        </div>\n\n                        {/* Display selected courses */}\n                        {courses.length > 0 && (\n                            <div className=\"selected-courses\">\n                                {courses.map((courseName, index) => (\n                                    <span key={index} className=\"course-tag\">\n                                        {courseName}\n                                        <button\n                                            type=\"button\"\n                                            onClick={() => handleRemoveCourse(courseName)}\n                                        >\n                                            x\n                                        </button>\n                                    </span>\n                                ))}\n                            </div>\n                        )}\n                        {/* Subjects input */}\n                        <input\n                            type=\"text\"\n                            placeholder=\"Subjects (comma-separated)\"\n                            value={subjects.join(', ')}\n                            onChange={(e) =>\n                                setSubjects(e.target.value.split(',').map((s) => s.trim()))\n                            }\n                        />\n                        <input\n                            type=\"text\"\n                            placeholder=\"Work\"\n                            value={work}\n                            onChange={(e) => setWork(e.target.value)}\n                        />\n                    </div>\n                )}\n\n                <div className=\"button-container\">\n                    {step > 1 && (\n                        <button type=\"button\" className=\"back-button\" onClick={handleBack}>\n                            Back\n                        </button>\n                    )}\n                    <button type=\"button\" className=\"next-button\" onClick={handleNext}>\n                        {step === 2 ? 'Submit' : 'Next'}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CreateProfile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}